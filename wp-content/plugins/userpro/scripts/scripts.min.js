(function(c){function b(f,e){return(typeof f=="function")?(f.call(e)):f}function d(e){while(e=e.parentNode){if(e==document){return true}}return false}function a(f,e){this.$element=c(f);this.options=e;this.enabled=true;this.fixTitle()}a.prototype={show:function(){var h=this.getTitle();if(h&&this.enabled){var g=this.tip();g.find(".tipsy-inner")[this.options.html?"html":"text"](h);g[0].className="tipsy";g.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var l=c.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight});var e=g[0].offsetWidth,k=g[0].offsetHeight,j=b(this.options.gravity,this.$element[0]);var f;switch(j.charAt(0)){case"n":f={top:l.top+l.height+this.options.offset,left:l.left+l.width/2-e/2};break;case"s":f={top:l.top-k-this.options.offset,left:l.left+l.width/2-e/2};break;case"e":f={top:l.top+l.height/2-k/2,left:l.left-e-this.options.offset};break;case"w":f={top:l.top+l.height/2-k/2,left:l.left+l.width+this.options.offset};break}if(j.length==2){if(j.charAt(1)=="w"){f.left=l.left+l.width/2-15}else{f.left=l.left+l.width/2-e+15}}g.css(f).addClass("tipsy-"+j);g.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+j.charAt(0);if(this.options.className){g.addClass(b(this.options.className,this.$element[0]))}if(this.options.fade){g.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity})}else{g.css({visibility:"visible",opacity:this.options.opacity})}}},hide:function(){if(this.options.fade){this.tip().stop().fadeOut(function(){c(this).remove()})}else{this.tip().remove()}},fixTitle:function(){var e=this.$element;if(e.attr("title")||typeof(e.attr("original-title"))!="string"){e.attr("original-title",e.attr("title")||"").removeAttr("title")}},getTitle:function(){var g,e=this.$element,f=this.options;this.fixTitle();var g,f=this.options;if(typeof f.title=="string"){g=e.attr(f.title=="title"?"original-title":f.title)}else{if(typeof f.title=="function"){g=f.title.call(e[0])}}g=(""+g).replace(/(^\s*|\s*$)/,"");return g||f.fallback},tip:function(){if(!this.$tip){this.$tip=c('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>');this.$tip.data("tipsy-pointee",this.$element[0])}return this.$tip},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled}};c.fn.tipsy=function(j){if(j===true){return this.data("tipsy")}else{if(typeof j=="string"){var l=this.data("tipsy");if(l){l[j]()}return this}}j=c.extend({},c.fn.tipsy.defaults,j);function h(n){var o=c.data(n,"tipsy");if(!o){o=new a(n,c.fn.tipsy.elementOptions(n,j));c.data(n,"tipsy",o)}return o}function m(){var n=h(this);n.hoverState="in";if(j.delayIn==0){n.show()}else{n.fixTitle();setTimeout(function(){if(n.hoverState=="in"){n.show()}},j.delayIn)}}function g(){var n=h(this);n.hoverState="out";if(j.delayOut==0){n.hide()}else{setTimeout(function(){if(n.hoverState=="out"){n.hide()}},j.delayOut)}}if(!j.live){this.each(function(){h(this)})}if(j.trigger!="manual"){var e=j.live?"live":"bind",k=j.trigger=="hover"?"mouseenter":"focus",f=j.trigger=="hover"?"mouseleave":"blur";this[e](k,m)[e](f,g)}return this};c.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:false,fallback:"",gravity:"n",html:false,live:false,offset:0,opacity:0.8,title:"title",trigger:"hover"};c.fn.tipsy.revalidate=function(){c(".tipsy").each(function(){var e=c.data(this,"tipsy-pointee");if(!e||!d(e)){c(this).remove()}})};c.fn.tipsy.elementOptions=function(f,e){return c.metadata?c.extend({},e,c(f).metadata()):e};c.fn.tipsy.autoNS=function(){return c(this).offset().top>(c(document).scrollTop()+c(window).height()/2)?"s":"n"};c.fn.tipsy.autoWE=function(){return c(this).offset().left>(c(document).scrollLeft()+c(window).width()/2)?"e":"w"};c.fn.tipsy.autoBounds=function(f,e){return function(){var g={ns:e[0],ew:(e.length>1?e[1]:false)},k=c(document).scrollTop()+f,h=c(document).scrollLeft()+f,j=c(this);if(j.offset().top<k){g.ns="n"}if(j.offset().left<h){g.ew="w"}if(c(window).width()+c(document).scrollLeft()-j.offset().left<f){g.ew="e"}if(c(window).height()+c(document).scrollTop()-j.offset().top<f){g.ns="s"}return g.ns+(g.ew?g.ew:"")}}})(jQuery);!function(){var g,f,k,h,e,l={}.hasOwnProperty,j=function(m,c){function o(){this.constructor=m}for(var n in c){l.call(c,n)&&(m[n]=c[n])}return o.prototype=c.prototype,m.prototype=new o,m.__super__=c.prototype,m};h=function(){function a(){this.options_index=0,this.parsed=[]}return a.prototype.add_node=function(b){return"OPTGROUP"===b.nodeName.toUpperCase()?this.add_group(b):this.add_option(b)},a.prototype.add_group=function(n){var m,s,r,q,p,o;for(m=this.parsed.length,this.parsed.push({array_index:m,group:!0,label:this.escapeExpression(n.label),children:0,disabled:n.disabled}),p=n.childNodes,o=[],r=0,q=p.length;q>r;r++){s=p[r],o.push(this.add_option(s,m,n.disabled))}return o},a.prototype.add_option=function(m,d,n){return"OPTION"===m.nodeName.toUpperCase()?(""!==m.text?(null!=d&&(this.parsed[d].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:m.value,text:m.text,html:m.innerHTML,selected:m.selected,disabled:n===!0?n:m.disabled,group_array_index:d,classes:m.className,style:m.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},a.prototype.escapeExpression=function(m){var d,n;return null==m||m===!1?"":/[\&\<\>\"\'\`]/.test(m)?(d={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/&(?!\w+;)|[\<\>\"\'\`]/g,m.replace(n,function(b){return d[b]||"&amp;"})):m},a}(),h.select_to_array=function(n){var m,r,q,p,o;for(r=new h,o=n.childNodes,q=0,p=o.length;p>q;q++){m=o[q],r.add_node(m)}return r.parsed},f=function(){function a(d,c){this.form_field=d,this.options=null!=c?c:{},a.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return a.prototype.set_default_values=function(){var b=this;return this.click_test_action=function(c){return b.test_active_click(c)},this.activate_action=function(c){return b.activate_field(c)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},a.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||a.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||a.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||a.default_no_result_text},a.prototype.mouse_enter=function(){return this.mouse_on_container=!0},a.prototype.mouse_leave=function(){return this.mouse_on_container=!1},a.prototype.input_focus=function(){var b=this;if(this.is_multiple){if(!this.active_field){return setTimeout(function(){return b.container_mousedown()},50)}}else{if(!this.active_field){return this.activate_field()}}},a.prototype.input_blur=function(){var b=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return b.blur_test()},100))},a.prototype.results_option_build=function(n){var m,r,q,p,o;for(m="",o=this.results_data,q=0,p=o.length;p>q;q++){r=o[q],m+=r.group?this.result_add_group(r):this.result_add_option(r),(null!=n?n.first:void 0)&&(r.selected&&this.is_multiple?this.choice_build(r):r.selected&&!this.is_multiple&&this.single_set_selected_text(r.text))}return m},a.prototype.result_add_option=function(m){var d,n;return m.search_match?this.include_option_in_results(m)?(d=[],m.disabled||m.selected&&this.is_multiple||d.push("active-result"),!m.disabled||m.selected&&this.is_multiple||d.push("disabled-result"),m.selected&&d.push("result-selected"),null!=m.group_array_index&&d.push("group-option"),""!==m.classes&&d.push(m.classes),n=""!==m.style.cssText?' style="'+m.style+'"':"",'<li class="'+d.join(" ")+'"'+n+' data-option-array-index="'+m.array_index+'">'+m.search_text+"</li>"):"":""},a.prototype.result_add_group=function(b){return b.search_match||b.group_match?b.active_options>0?'<li class="group-result">'+b.search_text+"</li>":"":""},a.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build(),this.results_showing?this.winnow_results():void 0},a.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},a.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},a.prototype.winnow_results=function(){var z,y,x,w,v,u,t,s,r,q,p,o,n;for(this.no_results_clear(),v=0,t=this.get_search_text(),z=t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),w=this.search_contains?"":"^",x=new RegExp(w+z,"i"),q=new RegExp(z,"i"),n=this.results_data,p=0,o=n.length;o>p;p++){y=n[p],y.search_match=!1,u=null,this.include_option_in_results(y)&&(y.group&&(y.group_match=!1,y.active_options=0),null!=y.group_array_index&&this.results_data[y.group_array_index]&&(u=this.results_data[y.group_array_index],0===u.active_options&&u.search_match&&(v+=1),u.active_options+=1),(!y.group||this.group_search)&&(y.search_text=y.group?y.label:y.html,y.search_match=this.search_string_match(y.search_text,x),y.search_match&&!y.group&&(v+=1),y.search_match?(t.length&&(s=y.search_text.search(q),r=y.search_text.substr(0,s+t.length)+"</em>"+y.search_text.substr(s+t.length),y.search_text=r.substr(0,s)+"<em>"+r.substr(s)),null!=u&&(u.group_match=!0)):null!=y.group_array_index&&this.results_data[y.group_array_index].search_match&&(y.search_match=!0)))}return this.result_clear_highlight(),1>v&&t.length?(this.update_results_content(""),this.no_results(t)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},a.prototype.search_string_match=function(n,m){var r,q,p,o;if(m.test(n)){return !0}if(this.enable_split_word_search&&(n.indexOf(" ")>=0||0===n.indexOf("["))&&(q=n.replace(/\[|\]/g,"").split(" "),q.length)){for(p=0,o=q.length;o>p;p++){if(r=q[p],m.test(r)){return !0}}}},a.prototype.choices_count=function(){var n,m,p,o;if(null!=this.selected_option_count){return this.selected_option_count}for(this.selected_option_count=0,o=this.form_field.options,m=0,p=o.length;p>m;m++){n=o[m],n.selected&&(this.selected_option_count+=1)}return this.selected_option_count},a.prototype.choices_click=function(b){return b.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},a.prototype.keyup_checker=function(m){var d,n;switch(d=null!=(n=m.which)?n:m.keyCode,this.search_field_scale(),d){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0){return this.keydown_backstroke()}if(!this.pending_backstroke){return this.result_clear_highlight(),this.results_search()}break;case 13:if(m.preventDefault(),this.results_showing){return this.result_select(m)}break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},a.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},a.prototype.include_option_in_results=function(b){return this.is_multiple&&!this.display_selected_options&&b.selected?!1:!this.display_disabled_options&&b.disabled?!1:b.empty?!1:!0},a.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?1:!0},a.default_multiple_text="Select Some Options",a.default_single_text="Select an Option",a.default_no_result_text="No results match",a}(),g=jQuery,g.fn.extend({chosen:function(a){return f.browser_is_supported()?this.each(function(){var m,b;m=g(this),b=m.data("chosen"),"destroy"===a&&b?b.destroy():b||m.data("chosen",new k(this,a))}):this}}),k=function(b){function a(){return e=a.__super__.constructor.apply(this,arguments)}return j(a,b),a.prototype.setup=function(){return this.form_field_jq=g(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},a.prototype.set_up_html=function(){var d,m;return d=["chosen-container"],d.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&d.push(this.form_field.className),this.is_rtl&&d.push("chosen-rtl"),m={"class":d.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(m.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=g("<div />",m),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},a.prototype.register_observers=function(){var c=this;return this.container.bind("mousedown.chosen",function(d){c.container_mousedown(d)}),this.container.bind("mouseup.chosen",function(d){c.container_mouseup(d)}),this.container.bind("mouseenter.chosen",function(d){c.mouse_enter(d)}),this.container.bind("mouseleave.chosen",function(d){c.mouse_leave(d)}),this.search_results.bind("mouseup.chosen",function(d){c.search_results_mouseup(d)}),this.search_results.bind("mouseover.chosen",function(d){c.search_results_mouseover(d)}),this.search_results.bind("mouseout.chosen",function(d){c.search_results_mouseout(d)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(d){c.search_results_mousewheel(d)}),this.form_field_jq.bind("chosen:updated.chosen",function(d){c.results_update_field(d)}),this.form_field_jq.bind("chosen:activate.chosen",function(d){c.activate_field(d)}),this.form_field_jq.bind("chosen:open.chosen",function(d){c.container_mousedown(d)}),this.search_field.bind("blur.chosen",function(d){c.input_blur(d)}),this.search_field.bind("keyup.chosen",function(d){c.keyup_checker(d)}),this.search_field.bind("keydown.chosen",function(d){c.keydown_checker(d)}),this.search_field.bind("focus.chosen",function(d){c.input_focus(d)}),this.is_multiple?this.search_choices.bind("click.chosen",function(d){c.choices_click(d)}):this.container.bind("click.chosen",function(d){d.preventDefault()})},a.prototype.destroy=function(){return g(document).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},a.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},a.prototype.container_mousedown=function(c){return this.is_disabled||(c&&"mousedown"===c.type&&!this.results_showing&&c.preventDefault(),null!=c&&g(c.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!c||g(c.target)[0]!==this.selected_item[0]&&!g(c.target).parents("a.chosen-single").length||(c.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),g(document).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},a.prototype.container_mouseup=function(c){return"ABBR"!==c.target.nodeName||this.is_disabled?void 0:this.results_reset(c)},a.prototype.search_results_mousewheel=function(n){var m,p,o;return m=-(null!=(p=n.originalEvent)?p.wheelDelta:void 0)||(null!=(o=n.originialEvent)?o.detail:void 0),null!=m?(n.preventDefault(),"DOMMouseScroll"===n.type&&(m=40*m),this.search_results.scrollTop(m+this.search_results.scrollTop())):void 0},a.prototype.blur_test=function(){return !this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},a.prototype.close_field=function(){return g(document).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},a.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},a.prototype.test_active_click=function(c){return this.container.is(g(c.target).closest(".chosen-container"))?this.active_field=!0:this.close_field()},a.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=h.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},a.prototype.result_do_highlight=function(n){var m,r,q,p,o;if(n.length){if(this.result_clear_highlight(),this.result_highlight=n,this.result_highlight.addClass("highlighted"),q=parseInt(this.search_results.css("maxHeight"),10),o=this.search_results.scrollTop(),p=q+o,r=this.result_highlight.position().top+this.search_results.scrollTop(),m=r+this.result_highlight.outerHeight(),m>=p){return this.search_results.scrollTop(m-q>0?m-q:0)}if(o>r){return this.search_results.scrollTop(r)}}},a.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},a.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results())},a.prototype.update_results_content=function(c){return this.search_results.html(c)},a.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},a.prototype.set_tab_index=function(){var c;return this.form_field.tabIndex?(c=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=c):void 0},a.prototype.set_label_behavior=function(){var c=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=g("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(d){return c.is_multiple?c.container_mousedown(d):c.activate_field()}):void 0},a.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},a.prototype.search_results_mouseup=function(d){var m;return m=g(d.target).hasClass("active-result")?g(d.target):g(d.target).parents(".active-result").first(),m.length?(this.result_highlight=m,this.result_select(d),this.search_field.focus()):void 0},a.prototype.search_results_mouseover=function(d){var m;return m=g(d.target).hasClass("active-result")?g(d.target):g(d.target).parents(".active-result").first(),m?this.result_do_highlight(m):void 0},a.prototype.search_results_mouseout=function(c){return g(c.target).hasClass("active-result")?this.result_clear_highlight():void 0},a.prototype.choice_build=function(m){var p,o,n=this;return p=g("<li />",{"class":"search-choice"}).html("<span>"+m.html+"</span>"),m.disabled?p.addClass("search-choice-disabled"):(o=g("<a />",{"class":"search-choice-close","data-option-array-index":m.array_index}),o.bind("click.chosen",function(c){return n.choice_destroy_link_click(c)}),p.append(o)),this.search_container.before(p)},a.prototype.choice_destroy_link_click=function(c){return c.preventDefault(),c.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(g(c.target))},a.prototype.choice_destroy=function(c){return this.result_deselect(c[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),c.parents("li").first().remove(),this.search_field_scale()):void 0},a.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_option_count=null,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},a.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},a.prototype.result_select=function(n){var m,p,o;return this.result_highlight?(m=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?m.removeClass("active-result"):(this.result_single_selected&&(this.result_single_selected.removeClass("result-selected"),o=this.result_single_selected[0].getAttribute("data-option-array-index"),this.results_data[o].selected=!1),this.result_single_selected=m),m.addClass("result-selected"),p=this.results_data[m[0].getAttribute("data-option-array-index")],p.selected=!0,this.form_field.options[p.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(p):this.single_set_selected_text(p.text),(n.metaKey||n.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[p.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},a.prototype.single_set_selected_text=function(c){return null==c&&(c=this.default_text),c===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(c)},a.prototype.result_deselect=function(d){var c;return c=this.results_data[d],this.form_field.options[c.options_index].disabled?!1:(c.selected=!1,this.form_field.options[c.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[c.options_index].value}),this.search_field_scale(),!0)},a.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},a.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":g("<div/>").text(g.trim(this.search_field.val())).html()},a.prototype.winnow_results_set_highlight=function(){var d,c;return c=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),d=c.length?c.first():this.search_results.find(".active-result").first(),null!=d?this.result_do_highlight(d):void 0},a.prototype.no_results=function(d){var m;return m=g('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),m.find("span").first().html(d),this.search_results.append(m)},a.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},a.prototype.keydown_arrow=function(){var c;return this.results_showing&&this.result_highlight?(c=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(c):void 0:this.results_show()},a.prototype.keyup_arrow=function(){var c;return this.results_showing||this.is_multiple?this.result_highlight?(c=this.result_highlight.prevAll("li.active-result"),c.length?this.result_do_highlight(c.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},a.prototype.keydown_backstroke=function(){var c;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(c=this.search_container.siblings("li.search-choice").last(),c.length&&!c.hasClass("search-choice-disabled")?(this.pending_backstroke=c,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},a.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},a.prototype.keydown_checker=function(m){var d,n;switch(d=null!=(n=m.which)?n:m.keyCode,this.search_field_scale(),8!==d&&this.pending_backstroke&&this.clear_backstroke(),d){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(m),this.mouse_on_container=!1;break;case 13:m.preventDefault();break;case 38:m.preventDefault(),this.keyup_arrow();break;case 40:m.preventDefault(),this.keydown_arrow()}},a.prototype.search_field_scale=function(){var u,t,s,r,q,p,o,n,m;if(this.is_multiple){for(s=0,o=0,q="position:absolute; left: -1000px; top: -1000px; display:none;",p=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],n=0,m=p.length;m>n;n++){r=p[n],q+=r+":"+this.search_field.css(r)+";"}return u=g("<div />",{style:q}),u.text(this.search_field.val()),g("body").append(u),o=u.width()+25,u.remove(),t=this.container.outerWidth(),o>t-10&&(o=t-10),this.search_field.css({width:o+"px"})}},a}(f)}.call(this);(function(V,U,T){var S=V.document,R=V.Modernizr,Q=function(b){return b.charAt(0).toUpperCase()+b.slice(1)},P="Moz Webkit O Ms".split(" "),O=function(f){var d=S.documentElement.style,k;if(typeof d[f]=="string"){return f}f=Q(f);for(var j=0,g=P.length;j<g;j++){k=P[j]+f;if(typeof d[k]=="string"){return k}}},N=O("transform"),M=O("transitionProperty"),L={csstransforms:function(){return !!N},csstransforms3d:function(){var b=!!O("perspective");if(b){var k=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),j="@media ("+k.join("transform-3d),(")+"modernizr)",h=U("<style>"+j+"{#modernizr{height:3px}}</style>").appendTo("head"),g=U('<div id="modernizr" />').appendTo("html");b=g.height()===3,g.remove(),h.remove()}return b},csstransitions:function(){return !!M}},K;if(R){for(K in L){R.hasOwnProperty(K)||R.addTest(K,L[K])}}else{R=V.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var J=" ",I;for(K in L){I=L[K](),R[K]=I,J+=" "+(I?"":"no-")+K}U("html").addClass(J)}if(R.csstransforms){var H=R.csstransforms3d?{translate:function(b){return"translate3d("+b[0]+"px, "+b[1]+"px, 0) "},scale:function(b){return"scale3d("+b+", "+b+", 1) "}}:{translate:function(b){return"translate("+b[0]+"px, "+b[1]+"px) "},scale:function(b){return"scale("+b+") "}},G=function(w,v,u){var t=U.data(w,"isoTransform")||{},s={},r,q={},p;s[v]=u,U.extend(t,s);for(r in t){p=t[r],q[r]=H[r](p)}var o=q.translate||"",n=q.scale||"",b=o+n;U.data(w,"isoTransform",t),w.style[N]=b};U.cssNumber.scale=!0,U.cssHooks.scale={set:function(d,c){G(d,"scale",c)},get:function(b,f){var e=U.data(b,"isoTransform");return e&&e.scale?e.scale:1}},U.fx.step.scale=function(b){U.cssHooks.scale.set(b.elem,b.now+b.unit)},U.cssNumber.translate=!0,U.cssHooks.translate={set:function(d,c){G(d,"translate",c)},get:function(b,f){var e=U.data(b,"isoTransform");return e&&e.translate?e.translate:[0,0]}}}var F,E;R.csstransitions&&(F={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd otransitionend",transitionProperty:"transitionend"}[M],E=O("transitionDuration"));var D=U.event,C=U.event.handle?"handle":"dispatch",B;D.special.smartresize={setup:function(){U(this).bind("resize",D.special.smartresize.handler)},teardown:function(){U(this).unbind("resize",D.special.smartresize.handler)},handler:function(f,e){var h=this,g=arguments;f.type="smartresize",B&&clearTimeout(B),B=setTimeout(function(){D[C].apply(h,g)},e==="execAsap"?0:100)}},U.fn.smartresize=function(b){return b?this.bind("smartresize",b):this.trigger("smartresize",["execAsap"])},U.Isotope=function(b,f,e){this.element=U(f),this._create(b),this._init(e)};var A=["width","height"],z=U(V);U.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:0.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1},U.Isotope.prototype={_create:function(b){this.options=U.extend({},U.Isotope.settings,b),this.styleQueue=[],this.elemCount=0;var p=this.element[0].style;this.originalStyle={};var o=A.slice(0);for(var n in this.options.containerStyle){o.push(n)}for(var m=0,l=o.length;m<l;m++){n=o[m],this.originalStyle[n]=p[n]||""}this.element.css(this.options.containerStyle),this._updateAnimationEngine(),this._updateUsingTransforms();var k={"original-order":function(d,c){return c.elemCount++,c.elemCount},random:function(){return Math.random()}};this.options.getSortData=U.extend(this.options.getSortData,k),this.reloadItems(),this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var j=this;setTimeout(function(){j.element.addClass(j.options.containerClass)},0),this.options.resizable&&z.bind("smartresize.isotope",function(){j.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return !1})},_getAtoms:function(f){var e=this.options.itemSelector,h=e?f.filter(e).add(f.find(e)):f,g={position:"absolute"};return h=h.filter(function(d,c){return c.nodeType===1}),this.usingTransforms&&(g.left=0,g.top=0),h.css(g).addClass(this.options.itemClass),this.updateSortData(h,!0),h},_init:function(b){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(b)},option:function(b){if(U.isPlainObject(b)){this.options=U.extend(!0,this.options,b);var f;for(var e in b){f="_update"+Q(e),this[f]&&this[f]()}}},_updateAnimationEngine:function(){var d=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,""),c;switch(d){case"css":case"none":c=!1;break;case"jquery":c=!0;break;default:c=!R.csstransitions}this.isUsingJQueryAnimation=c,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var b=this.usingTransforms=this.options.transformsEnabled&&R.csstransforms&&R.csstransitions&&!this.isUsingJQueryAnimation;b||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=b?this._translate:this._positionAbs},_filter:function(j){var h=this.options.filter===""?"*":this.options.filter;if(!h){return j}var o=this.options.hiddenClass,n="."+o,m=j.filter(n),l=m;if(h!=="*"){l=m.filter(h);var k=j.not(n).not(h).addClass(o);this.styleQueue.push({$el:k,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:l,style:this.options.visibleStyle}),l.removeClass(o),j.filter(h)},updateSortData:function(b,m){var l=this,k=this.options.getSortData,j,h;b.each(function(){j=U(this),h={};for(var c in k){!m&&c==="original-order"?h[c]=U.data(this,"isotope-sort-data")[c]:h[c]=k[c](j,l)}U.data(this,"isotope-sort-data",h)})},_sort:function(){var f=this.options.sortBy,e=this._getSorter,h=this.options.sortAscending?1:-1,g=function(j,c){var b=e(j,f),a=e(c,f);return b===a&&f!=="original-order"&&(b=e(j,"original-order"),a=e(c,"original-order")),(b>a?1:b<a?-1:0)*h};this.$filteredAtoms.sort(g)},_getSorter:function(b,d){return U.data(b,"isotope-sort-data")[d]},_translate:function(d,c){return{translate:[d,c]}},_positionAbs:function(d,c){return{left:d,top:c}},_pushPosition:function(f,e,h){e=Math.round(e+this.offset.left),h=Math.round(h+this.offset.top);var g=this.getPositionStyles(e,h);this.styleQueue.push({$el:f,style:g}),this.options.itemPositionDataEnabled&&f.data("isotope-item-position",{x:e,y:h})},layout:function(f,e){var h=this.options.layoutMode;this["_"+h+"Layout"](f);if(this.options.resizesContainer){var g=this["_"+h+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:g})}this._processStyleQueue(f,e),this.isLaidOut=!0},_processStyleQueue:function(ac,ab){var aa=this.isLaidOut?this.isUsingJQueryAnimation?"animate":"css":"css",Z=this.options.animationOptions,Y=this.options.onLayout,X,W,x,w;W=function(d,c){c.$el[aa](c.style,Z)};if(this._isInserting&&this.isUsingJQueryAnimation){W=function(d,c){X=c.$el.hasClass("no-transition")?"css":aa,c.$el[X](c.style,Z)}}else{if(ab||Y||Z.complete){var v=!1,r=[ab,Y,Z.complete],q=this;x=!0,w=function(){if(v){return}var a;for(var g=0,f=r.length;g<f;g++){a=r[g],typeof a=="function"&&a.call(q.element,ac,q)}v=!0};if(this.isUsingJQueryAnimation&&aa==="animate"){Z.complete=w,x=!1}else{if(R.csstransitions){var e=0,b=this.styleQueue[0],af=b&&b.$el,ae;while(!af||!af.length){ae=this.styleQueue[e++];if(!ae){return}af=ae.$el}var ad=parseFloat(getComputedStyle(af[0])[E]);ad>0&&(W=function(d,c){c.$el[aa](c.style,Z).one(F,w)},x=!1)}}}}U.each(this.styleQueue,W),x&&w(),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(b){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,b)},addItems:function(e,d){var f=this._getAtoms(e);this.$allAtoms=this.$allAtoms.add(f),d&&d(f)},insert:function(e,d){this.element.append(e);var f=this;this.addItems(e,function(b){var c=f._filter(b);f._addHideAppended(c),f._sort(),f.reLayout(),f._revealAppended(c,d)})},appended:function(e,d){var f=this;this.addItems(e,function(b){f._addHideAppended(b),f.layout(b),f._revealAppended(b,d)})},_addHideAppended:function(b){this.$filteredAtoms=this.$filteredAtoms.add(b),b.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:b,style:this.options.hiddenStyle})},_revealAppended:function(e,d){var f=this;setTimeout(function(){e.removeClass("no-transition"),f.styleQueue.push({$el:e,style:f.options.visibleStyle}),f._isInserting=!1,f._processStyleQueue(e,d)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(f,e){this.$allAtoms=this.$allAtoms.not(f),this.$filteredAtoms=this.$filteredAtoms.not(f);var h=this,g=function(){f.remove(),e&&e.call(h.element)};f.filter(":not(."+this.options.hiddenClass+")").length?(this.styleQueue.push({$el:f,style:this.options.hiddenStyle}),this._sort(),this.reLayout(g)):g()},shuffle:function(b){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout(b)},destroy:function(){var f=this.usingTransforms,e=this.options;this.$allAtoms.removeClass(e.hiddenClass+" "+e.itemClass).each(function(){var a=this.style;a.position="",a.top="",a.left="",a.opacity="",f&&(a[N]="")});var h=this.element[0].style;for(var g in this.originalStyle){h[g]=this.originalStyle[g]}this.element.unbind(".isotope").undelegate("."+e.hiddenClass,"click").removeClass(e.containerClass).removeData("isotope"),z.unbind(".isotope")},_getSegments:function(j){var f=this.options.layoutMode,p=j?"rowHeight":"columnWidth",o=j?"height":"width",n=j?"rows":"cols",m=this.element[o](),l,k=this.options[f]&&this.options[f][p]||this.$filteredAtoms["outer"+Q(o)](!0)||m;l=Math.floor(m/k),l=Math.max(l,1),this[f][n]=l,this[f][p]=k},_checkIfSegmentsChanged:function(f){var e=this.options.layoutMode,h=f?"rows":"cols",g=this[e][h];return this._getSegments(f),this[e][h]!==g},_masonryReset:function(){this.masonry={},this._getSegments();var b=this.masonry.cols;this.masonry.colYs=[];while(b--){this.masonry.colYs.push(0)}},_masonryLayout:function(b){var f=this,e=f.masonry;b.each(function(){var c=U(this),m=Math.ceil(c.outerWidth(!0)/e.columnWidth);m=Math.min(m,e.cols);if(m===1){f._masonryPlaceBrick(c,e.colYs)}else{var l=e.cols+1-m,k=[],j,d;for(d=0;d<l;d++){j=e.colYs.slice(d,d+m),k[d]=Math.max.apply(Math,j)}f._masonryPlaceBrick(c,k)}})},_masonryPlaceBrick:function(t,s){var r=Math.min.apply(Math,s),q=0;for(var p=0,o=s.length;p<o;p++){if(s[p]===r){q=p;break}}var n=this.masonry.columnWidth*q,m=r;this._pushPosition(t,n,m);var l=r+t.outerHeight(!0),k=this.masonry.cols+1-o;for(p=0;p<k;p++){this.masonry.colYs[q+p]=l}},_masonryGetContainerSize:function(){var b=Math.max.apply(Math,this.masonry.colYs);return{height:b}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(b){var h=this,g=this.element.width(),f=this.fitRows;b.each(function(){var c=U(this),e=c.outerWidth(!0),d=c.outerHeight(!0);f.x!==0&&e+f.x>g&&(f.x=0,f.y=f.height),h._pushPosition(c,f.x,f.y),f.height=Math.max(f.y+d,f.height),f.x+=e})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return !0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(b){var f=this,e=this.cellsByRow;b.each(function(){var c=U(this),l=e.index%e.cols,k=Math.floor(e.index/e.cols),j=(l+0.5)*e.columnWidth-c.outerWidth(!0)/2,d=(k+0.5)*e.rowHeight-c.outerHeight(!0)/2;f._pushPosition(c,j,d),e.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(b){var d=this;b.each(function(c){var e=U(this);d._pushPosition(e,0,d.straightDown.y),d.straightDown.y+=e.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return !0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var b=this.masonryHorizontal.rows;this.masonryHorizontal.rowXs=[];while(b--){this.masonryHorizontal.rowXs.push(0)}},_masonryHorizontalLayout:function(b){var f=this,e=f.masonryHorizontal;b.each(function(){var c=U(this),m=Math.ceil(c.outerHeight(!0)/e.rowHeight);m=Math.min(m,e.rows);if(m===1){f._masonryHorizontalPlaceBrick(c,e.rowXs)}else{var l=e.rows+1-m,k=[],j,d;for(d=0;d<l;d++){j=e.rowXs.slice(d,d+m),k[d]=Math.max.apply(Math,j)}f._masonryHorizontalPlaceBrick(c,k)}})},_masonryHorizontalPlaceBrick:function(t,s){var r=Math.min.apply(Math,s),q=0;for(var p=0,o=s.length;p<o;p++){if(s[p]===r){q=p;break}}var n=r,m=this.masonryHorizontal.rowHeight*q;this._pushPosition(t,n,m);var l=r+t.outerWidth(!0),k=this.masonryHorizontal.rows+1-o;for(p=0;p<k;p++){this.masonryHorizontal.rowXs[q+p]=l}},_masonryHorizontalGetContainerSize:function(){var b=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:b}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(b){var h=this,g=this.element.height(),f=this.fitColumns;b.each(function(){var c=U(this),e=c.outerWidth(!0),d=c.outerHeight(!0);f.y!==0&&d+f.y>g&&(f.x=f.width,f.y=0),h._pushPosition(c,f.x,f.y),f.width=Math.max(f.x+e,f.width),f.y+=d})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return !0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(b){var f=this,e=this.cellsByColumn;b.each(function(){var c=U(this),l=Math.floor(e.index/e.rows),k=e.index%e.rows,j=(l+0.5)*e.columnWidth-c.outerWidth(!0)/2,d=(k+0.5)*e.rowHeight-c.outerHeight(!0)/2;f._pushPosition(c,j,d),e.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(b){var d=this;b.each(function(c){var e=U(this);d._pushPosition(e,d.straightAcross.x,0),d.straightAcross.x+=e.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return !0}},U.fn.imagesLoaded=function(b){function k(){b.call(p,o)}function j(d){var e=d.target;e.src!==m&&U.inArray(e,l)===-1&&(l.push(e),--n<=0&&(setTimeout(k),o.unbind(".imagesLoaded",j)))}var p=this,o=p.find("img").add(p.filter("img")),n=o.length,m="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",l=[];return n||k(),o.bind("load.imagesLoaded error.imagesLoaded",j).each(function(){var c=this.src;this.src=m,this.src=c}),p};var y=function(a){V.console&&V.console.error(a)};U.fn.isotope=function(b,f){if(typeof b=="string"){var e=Array.prototype.slice.call(arguments,1);this.each(function(){var a=U.data(this,"isotope");if(!a){y("cannot call methods on isotope prior to initialization; attempted to call method '"+b+"'");return}if(!U.isFunction(a[b])||b.charAt(0)==="_"){y("no such method '"+b+"' for isotope instance");return}a[b].apply(a,e)})}else{this.each(function(){var a=U.data(this,"isotope");a?(a.option(b),a._init(f)):U.data(this,"isotope",new U.Isotope(b,this,f))})}return this}})(window,jQuery);(function(b){b.fn.uploadFile=function(a){var f=b.extend({url:"",method:"POST",enctype:"multipart/form-data",formData:null,returnType:null,allowedTypes:"*",fileName:"userpro_file",multiple:false,autoSubmit:true,showCancel:false,showAbort:false,showDone:false,showStatusAfterSuccess:true,buttonCss:false,buttonClass:false,onSubmit:function(c){},onSuccess:function(c,d){},onError:function(c,d){},uploadButtonClass:"ajax-file-upload"},a);var e="ajax-file-upload-"+b(this).attr("id");this.formGroup=e;b(this).click(function(){b.fn.uploadFile.createAjaxForm(this,e,f)});this.startUpload=function(){b("."+this.formGroup).each(function(c,d){b(this).submit()})};b(this).addClass(f.uploadButtonClass);return this};b.fn.uploadFile.createAjaxForm=function(v,r,a){var y=b("<form style='display:none;' class='"+r+"' method='"+a.method+"' action='"+a.url+"' enctype='"+a.enctype+"'></form>");var z="<input type='file' name='"+a.fileName+"'/>";if(a.multiple){if(a.fileName.indexOf("[]")!=a.fileName.length-2){a.fileName+="[]"}z="<input type='file' name='"+a.fileName+"' multiple/>"}var u=b(z).appendTo(y);var s=b("<div class='ajax-file-upload-statusbar'></div>");var A=b("").appendTo(s);var p=b("<div class='ajax-file-upload-progress'>").appendTo(s).hide();var t=b("<div class='ajax-file-upload-bar'></div>").appendTo(p);var w=b("").appendTo(s).hide();var q=b("<div class='ajax-file-upload-red'>Cancel</div>").appendTo(s).hide();var x=b("").appendTo(s).hide();b(u).change(function(){var c=a.allowedTypes.toLowerCase().split(",");var g="";var h=[];if(this.files){for(i=0;i<this.files.length;i++){var e=this.files[i].name;h.push(e);var d=e.split(".").pop().toLowerCase();if(a.allowedTypes!="*"&&jQuery.inArray(d,c)<0){alert("File type is not allowed. Allowed only: "+a.allowedTypes);b(y).remove();return}g+=e;if(this.files.length!=0){g+=""}}}else{var e=b(this).val();h.push(e);var d=e.split(".").pop().toLowerCase();if(a.allowedTypes!="*"&&jQuery.inArray(d,c)<0){alert("File type is not allowed. Allowed only: "+a.allowedTypes);b(y).remove();return}g=e}b("body").append(y);b(v).after(s);b(A).html(g);var f=null;var j={forceSync:false,data:a.formData,dataType:a.returnType,beforeSend:function(k,l){a.onSubmit.call(this,h);b(p).show();b(q).hide();b(x).hide();if(a.showAbort){b(w).show();b(w).click(function(){k.abort()})}},uploadProgress:function(l,m,n,o){var k=o+"%";b(t).width(k)},success:function(k,l,m){b(w).hide();a.onSuccess.call(this,h,k,m);if(a.showStatusAfterSuccess){if(a.showDone){b(x).show();b(x).click(function(){b(s).hide("slow")})}else{b(x).hide()}b(t).width("100%")}else{b(s).hide("slow")}b(y).remove()},error:function(m,l,k){if(m.statusText=="abort"){b(s).hide("slow")}else{a.onError.call(this,h,l,k);b(p).hide();b(s).append("<font color='red'>ERROR: "+k+"</font>")}b(w).hide();b(y).remove()}};if(a.autoSubmit){b(y).ajaxSubmit(j)}else{if(a.showCancel){b(q).show();b(q).click(function(){b(y).remove();b(s).remove()})}b(y).ajaxForm(j)}});b(u).click()};if(b.fn.ajaxForm==undefined){(function(h){var l={};l.fileapi=h("<input type='file'/>").get(0).files!==undefined;l.formdata=window.FormData!==undefined;var j=!!h.fn.prop;h.fn.attr2=function(){if(!j){return this.attr.apply(this,arguments)}var c=this.prop.apply(this,arguments);if((c&&c.jquery)||typeof c==="string"){return c}return this.attr.apply(this,arguments)};h.fn.ajaxSubmit=function(aa){if(!this.length){k("ajaxSubmit: skipping submit process - no element selected");return this}var ab,Q,Y,U=this;if(typeof aa=="function"){aa={success:aa}}else{if(aa===undefined){aa={}}}ab=aa.type||this.attr2("method");Q=aa.url||this.attr2("action");Y=(typeof Q==="string")?h.trim(Q):"";Y=Y||window.location.href||"";if(Y){Y=(Y.match(/^([^#]+)/)||[])[1]}aa=h.extend(true,{url:Y,success:h.ajaxSettings.success,type:ab||h.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},aa);var K={};this.trigger("form-pre-serialize",[this,aa,K]);if(K.veto){k("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(aa.beforeSerialize&&aa.beforeSerialize(this,aa)===false){k("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var X=aa.traditional;if(X===undefined){X=h.ajaxSettings.traditional}var O=[];var M,q=this.formToArray(aa.semantic,O);if(aa.data){aa.extraData=aa.data;M=h.param(aa.data,X)}if(aa.beforeSubmit&&aa.beforeSubmit(q,this,aa)===false){k("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[q,this,aa,K]);if(K.veto){k("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var W=h.param(q,X);if(M){W=(W?(W+"&"+M):M)}if(aa.type.toUpperCase()=="GET"){aa.url+=(aa.url.indexOf("?")>=0?"&":"?")+W;aa.data=null}else{aa.data=W}var e=[];if(aa.resetForm){e.push(function(){U.resetForm()})}if(aa.clearForm){e.push(function(){U.clearForm(aa.includeHidden)})}if(!aa.dataType&&aa.target){var Z=aa.success||function(){};e.push(function(o){var n=aa.replaceTarget?"replaceWith":"html";h(aa.target)[n](o).each(Z,arguments)})}else{if(aa.success){e.push(aa.success)}}aa.success=function(t,r,s){var n=aa.context||this;for(var o=0,p=e.length;o<p;o++){e[o].apply(n,[t,r,s||U,U])}};if(aa.error){var V=aa.error;aa.error=function(n,p,r){var o=aa.context||this;V.apply(o,[n,p,r,U])}}if(aa.complete){var ac=aa.complete;aa.complete=function(n,o){var p=aa.context||this;ac.apply(p,[n,o,U])}}var N=h('input[type=file]:enabled:not([value=""])',this);var S=N.length>0;var R="multipart/form-data";var c=(U.attr("enctype")==R||U.attr("encoding")==R);var d=l.fileapi&&l.formdata;k("fileAPI :"+d);var P=(S||c)&&!d;var g;if(aa.iframe!==false&&(aa.iframe||P)){if(aa.closeKeepAlive){h.get(aa.closeKeepAlive,function(){g=f(q)})}else{g=f(q)}}else{if((S||c)&&d){g=L(q)}else{g=h.ajax(aa)}}U.removeData("jqxhr").data("jqxhr",g);for(var T=0;T<O.length;T++){O[T]=null}this.trigger("form-submit-notify",[this,aa]);return this;function ad(t){var s=h.param(t,aa.traditional).split("&");var r=s.length;var p=[];var n,o;for(n=0;n<r;n++){s[n]=s[n].replace(/\+/g," ");o=s[n].split("=");p.push([decodeURIComponent(o[0]),decodeURIComponent(o[1])])}return p}function L(r){var p=new FormData();for(var o=0;o<r.length;o++){p.append(r[o].name,r[o].value)}if(aa.extraData){var s=ad(aa.extraData);for(o=0;o<s.length;o++){if(s[o]){p.append(s[o][0],s[o][1])}}}aa.data=null;var t=h.extend(true,{},h.ajaxSettings,aa,{contentType:false,processData:false,cache:false,type:ab||"POST"});if(aa.uploadProgress){t.xhr=function(){var u=h.ajaxSettings.xhr();if(u.upload){u.upload.addEventListener("progress",function(v){var w=0;var y=v.loaded||v.position;var x=v.total;if(v.lengthComputable){w=Math.ceil(y/x*100)}aa.uploadProgress(v,y,x,w)},false)}return u}}t.data=null;var n=t.beforeSend;t.beforeSend=function(u,v){v.data=p;if(n){n.call(this,u,v)}};return h.ajax(t)}function f(J){var A=U[0],B,ak,p,ai,an,y,v,x,w,am,aj,s;var G=h.Deferred();G.abort=function(ae){x.abort(ae)};if(J){for(ak=0;ak<O.length;ak++){B=h(O[ak]);if(j){B.prop("disabled",false)}else{B.removeAttr("disabled")}}}p=h.extend(true,{},h.ajaxSettings,aa);p.context=p.context||p;an="jqFormIO"+(new Date().getTime());if(p.iframeTarget){y=h(p.iframeTarget);am=y.attr2("name");if(!am){y.attr2("name",an)}else{an=am}}else{y=h('<iframe name="'+an+'" src="'+p.iframeSrc+'" />');y.css({position:"absolute",top:"-1000px",left:"-1000px"})}v=y[0];x={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(ag){var af=(ag==="timeout"?"timeout":"aborted");k("aborting upload... "+af);this.aborted=1;try{if(v.contentWindow.document.execCommand){v.contentWindow.document.execCommand("Stop")}}catch(ae){}y.attr("src",p.iframeSrc);x.error=af;if(p.error){p.error.call(p.context,x,af,ag)}if(ai){h.event.trigger("ajaxError",[x,p,af])}if(p.complete){p.complete.call(p.context,x,af)}}};ai=p.global;if(ai&&0===h.active++){h.event.trigger("ajaxStart")}if(ai){h.event.trigger("ajaxSend",[x,p])}if(p.beforeSend&&p.beforeSend.call(p.context,x,p)===false){if(p.global){h.active--}G.reject();return G}if(x.aborted){G.reject();return G}w=A.clk;if(w){am=w.name;if(am&&!w.disabled){p.extraData=p.extraData||{};p.extraData[am]=w.value;if(w.type=="image"){p.extraData[am+".x"]=A.clk_x;p.extraData[am+".y"]=A.clk_y}}}var r=1;var u=2;function t(ae){var af=null;try{if(ae.contentWindow){af=ae.contentWindow.document}}catch(ag){k("cannot get iframe.contentWindow document: "+ag)}if(af){return af}try{af=ae.contentDocument?ae.contentDocument:ae.document}catch(ag){k("cannot get iframe.contentDocument: "+ag);af=ae.document}return af}var C=h("meta[name=csrf-token]").attr("content");var D=h("meta[name=csrf-param]").attr("content");if(D&&C){p.extraData=p.extraData||{};p.extraData[D]=C}function al(){var au=U.attr2("target"),aw=U.attr2("action");A.setAttribute("target",an);if(!ab){A.setAttribute("method","POST")}if(aw!=p.url){A.setAttribute("action",p.url)}if(!p.skipEncodingOverride&&(!ab||/post/i.test(ab))){U.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(p.timeout){s=setTimeout(function(){aj=true;n(r)},p.timeout)}function at(){try{var ao=t(v).readyState;k("state = "+ao);if(ao&&ao.toLowerCase()=="uninitialized"){setTimeout(at,50)}}catch(ap){k("Server abort: ",ap," (",ap.name,")");n(u);if(s){clearTimeout(s)}s=undefined}}var av=[];try{if(p.extraData){for(var ae in p.extraData){if(p.extraData.hasOwnProperty(ae)){if(h.isPlainObject(p.extraData[ae])&&p.extraData[ae].hasOwnProperty("name")&&p.extraData[ae].hasOwnProperty("value")){av.push(h('<input type="hidden" name="'+p.extraData[ae].name+'">').val(p.extraData[ae].value).appendTo(A)[0])}else{av.push(h('<input type="hidden" name="'+ae+'">').val(p.extraData[ae]).appendTo(A)[0])}}}}if(!p.iframeTarget){y.appendTo("body");if(v.attachEvent){v.attachEvent("onload",n)}else{v.addEventListener("load",n,false)}}setTimeout(at,15);try{A.submit()}catch(ag){var af=document.createElement("form").submit;af.apply(A)}}finally{A.setAttribute("action",aw);if(au){A.setAttribute("target",au)}else{U.removeAttr("target")}h(av).remove()}}if(p.forceSync){al()}else{setTimeout(al,10)}var I,H,ah=50,z;function n(ay){if(x.aborted||z){return}H=t(v);if(!H){k("cannot access response document");ay=u}if(ay===r&&x){x.abort("timeout");G.reject(x,"timeout");return}else{if(ay==u&&x){x.abort("server abort");G.reject(x,"error","server abort");return}}if(!H||H.location.href==p.iframeSrc){if(!aj){return}}if(v.detachEvent){v.detachEvent("onload",n)}else{v.removeEventListener("load",n,false)}var aA="success",ag;try{if(aj){throw"timeout"}var aB=p.dataType=="xml"||H.XMLDocument||h.isXMLDoc(H);k("isXml="+aB);if(!aB&&window.opera&&(H.body===null||!H.body.innerHTML)){if(--ah){k("requeing onLoad callback, DOM not available");setTimeout(n,250);return}}var af=H.body?H.body:H.documentElement;x.responseText=af?af.innerHTML:null;x.responseXML=H.XMLDocument?H.XMLDocument:H;if(aB){p.dataType="xml"}x.getResponseHeader=function(ao){var ap={"content-type":p.dataType};return ap[ao.toLowerCase()]};if(af){x.status=Number(af.getAttribute("status"))||x.status;x.statusText=af.getAttribute("statusText")||x.statusText}var aE=(p.dataType||"").toLowerCase();var ax=/(json|script|text)/.test(aE);if(ax||p.textarea){var az=H.getElementsByTagName("textarea")[0];if(az){x.responseText=az.value;x.status=Number(az.getAttribute("status"))||x.status;x.statusText=az.getAttribute("statusText")||x.statusText}else{if(ax){var aD=H.getElementsByTagName("pre")[0];var ae=H.getElementsByTagName("body")[0];if(aD){x.responseText=aD.textContent?aD.textContent:aD.innerText}else{if(ae){x.responseText=ae.textContent?ae.textContent:ae.innerText}}}}}else{if(aE=="xml"&&!x.responseXML&&x.responseText){x.responseXML=o(x.responseText)}}try{I=F(x,aE,p)}catch(aC){aA="parsererror";x.error=ag=(aC||aA)}}catch(aC){k("error caught: ",aC);aA="error";x.error=ag=(aC||aA)}if(x.aborted){k("upload aborted");aA=null}if(x.status){aA=(x.status>=200&&x.status<300||x.status===304)?"success":"error"}if(aA==="success"){if(p.success){p.success.call(p.context,I,"success",x)}G.resolve(x.responseText,"success",x);if(ai){h.event.trigger("ajaxSuccess",[x,p])}}else{if(aA){if(ag===undefined){ag=x.statusText}if(p.error){p.error.call(p.context,x,aA,ag)}G.reject(x,"error",ag);if(ai){h.event.trigger("ajaxError",[x,p,ag])}}}if(ai){h.event.trigger("ajaxComplete",[x,p])}if(ai&&!--h.active){h.event.trigger("ajaxStop")}if(p.complete){p.complete.call(p.context,x,aA)}z=true;if(p.timeout){clearTimeout(s)}setTimeout(function(){if(!p.iframeTarget){y.remove()}x.responseXML=null},100)}var o=h.parseXML||function(af,ae){if(window.ActiveXObject){ae=new ActiveXObject("Microsoft.XMLDOM");ae.async="false";ae.loadXML(af)}else{ae=(new DOMParser()).parseFromString(af,"text/xml")}return(ae&&ae.documentElement&&ae.documentElement.nodeName!="parsererror")?ae:null};var E=h.parseJSON||function(ae){return window["eval"]("("+ae+")")};var F=function(ae,ag,ar){var at=ae.getResponseHeader("content-type")||"",au=ag==="xml"||!ag&&at.indexOf("xml")>=0,af=au?ae.responseXML:ae.responseText;if(au&&af.documentElement.nodeName==="parsererror"){if(h.error){h.error("parsererror")}}if(ar&&ar.dataFilter){af=ar.dataFilter(af,ag)}if(typeof af==="string"){if(ag==="json"||!ag&&at.indexOf("json")>=0){af=E(af)}else{if(ag==="script"||!ag&&at.indexOf("javascript")>=0){h.globalEval(af)}}}return af};return G}};h.fn.ajaxForm=function(d){d=d||{};d.delegation=d.delegation&&h.isFunction(h.fn.on);if(!d.delegation&&this.length===0){var c={s:this.selector,c:this.context};if(!h.isReady&&c.s){k("DOM not ready, queuing ajaxForm");h(function(){h(c.s,c.c).ajaxForm(d)});return this}k("terminating; zero elements found by selector"+(h.isReady?"":" (DOM not ready)"));return this}if(d.delegation){h(document).off("submit.form-plugin",this.selector,m).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,d,m).on("click.form-plugin",this.selector,d,a);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",d,m).bind("click.form-plugin",d,a)};function m(c){var d=c.data;if(!c.isDefaultPrevented()){c.preventDefault();h(this).ajaxSubmit(d)}}function a(c){var d=c.target;var f=h(d);if(!(f.is("[type=submit],[type=image]"))){var g=f.closest("[type=submit]");if(g.length===0){return}d=g[0]}var e=this;e.clk=d;if(d.type=="image"){if(c.offsetX!==undefined){e.clk_x=c.offsetX;e.clk_y=c.offsetY}else{if(typeof h.fn.offset=="function"){var o=f.offset();e.clk_x=c.pageX-o.left;e.clk_y=c.pageY-o.top}else{e.clk_x=c.pageX-d.offsetLeft;e.clk_y=c.pageY-d.offsetTop}}}setTimeout(function(){e.clk=e.clk_x=e.clk_y=null},100)}h.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};h.fn.formToArray=function(C,A){var D=[];if(this.length===0){return D}var g=this[0];var d=C?g.getElementsByTagName("*"):g.elements;if(!d){return D}var H,c,e,B,f,F,n;for(H=0,F=d.length;H<F;H++){f=d[H];e=f.name;if(!e||f.disabled){continue}if(C&&g.clk&&f.type=="image"){if(g.clk==f){D.push({name:e,value:h(f).val(),type:f.type});D.push({name:e+".x",value:g.clk_x},{name:e+".y",value:g.clk_y})}continue}B=h.fieldValue(f,true);if(B&&B.constructor==Array){if(A){A.push(f)}for(c=0,n=B.length;c<n;c++){D.push({name:e,value:B[c]})}}else{if(l.fileapi&&f.type=="file"){if(A){A.push(f)}var v=f.files;if(v.length){for(c=0;c<v.length;c++){D.push({name:e,value:v[c],type:f.type})}}else{D.push({name:e,value:"",type:f.type})}}else{if(B!==null&&typeof B!="undefined"){if(A){A.push(f)}D.push({name:e,value:B,type:f.type,required:f.required})}}}}if(!C&&g.clk){var G=h(g.clk),E=G[0];e=E.name;if(e&&!E.disabled&&E.type=="image"){D.push({name:e,value:G.val()});D.push({name:e+".x",value:g.clk_x},{name:e+".y",value:g.clk_y})}}return D};h.fn.formSerialize=function(c){return h.param(this.formToArray(c))};h.fn.fieldSerialize=function(c){var d=[];this.each(function(){var n=this.name;if(!n){return}var f=h.fieldValue(this,c);if(f&&f.constructor==Array){for(var e=0,g=f.length;e<g;e++){d.push({name:n,value:f[e]})}}else{if(f!==null&&typeof f!="undefined"){d.push({name:this.name,value:f})}}});return h.param(d)};h.fn.fieldValue=function(o){for(var c=[],e=0,g=this.length;e<g;e++){var d=this[e];var f=h.fieldValue(d,o);if(f===null||typeof f=="undefined"||(f.constructor==Array&&!f.length)){continue}if(f.constructor==Array){h.merge(c,f)}else{c.push(f)}}return c};h.fieldValue=function(y,e){var t=y.name,A=y.type,z=y.tagName.toLowerCase();if(e===undefined){e=true}if(e&&(!t||y.disabled||A=="reset"||A=="button"||(A=="checkbox"||A=="radio")&&!y.checked||(A=="submit"||A=="image")&&y.form&&y.form.clk!=y||z=="select"&&y.selectedIndex==-1)){return null}if(z=="select"){var d=y.selectedIndex;if(d<0){return null}var C=[],v=y.options;var g=(A=="select-one");var c=(g?d+1:v.length);for(var n=(g?d:0);n<c;n++){var f=v[n];if(f.selected){var B=f.value;if(!B){B=(f.attributes&&f.attributes.value&&!(f.attributes.value.specified))?f.text:f.value}if(g){return B}C.push(B)}}return C}return h(y).val()};h.fn.clearForm=function(c){return this.each(function(){h("input,select,textarea",this).clearFields(c)})};h.fn.clearFields=h.fn.clearInputs=function(d){var c=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var e=this.type,f=this.tagName.toLowerCase();if(c.test(e)||f=="textarea"){this.value=""}else{if(e=="checkbox"||e=="radio"){this.checked=false}else{if(f=="select"){this.selectedIndex=-1}else{if(e=="file"){if(/MSIE/.test(navigator.userAgent)){h(this).replaceWith(h(this).clone(true))}else{h(this).val("")}}else{if(d){if((d===true&&/hidden/.test(e))||(typeof d=="string"&&h(this).is(d))){this.value=""}}}}}}})};h.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};h.fn.enable=function(c){if(c===undefined){c=true}return this.each(function(){this.disabled=!c})};h.fn.selected=function(c){if(c===undefined){c=true}return this.each(function(){var e=this.type;if(e=="checkbox"||e=="radio"){this.checked=c}else{if(this.tagName.toLowerCase()=="option"){var d=h(this).parent("select");if(c&&d[0]&&d[0].type=="select-one"){d.find("option").selected(false)}this.selected=c}}})};h.fn.ajaxSubmit.debug=false;function k(){if(!h.fn.ajaxSubmit.debug){return}var c="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(c)}else{if(window.opera&&window.opera.postError){window.opera.postError(c)}}}})((typeof(jQuery)!="undefined")?jQuery:window.Zepto)}}(jQuery));function userpro_shortcode_template(g,a,d,f,e,b){str="action=userpro_shortcode_template&shortcode="+d;if(f){str=str+"&up_username="+f}if(b){str=str+"&post_id="+b}if(e){str=str+"&force_redirect_uri=1"}if(a.find("form").length>0){var c=a.find("form");userpro_init_load(c)}jQuery.ajax({url:userpro_ajax_url,data:str,dataType:"JSON",type:"POST",error:function(k,h,j){userpro_end_load(c);alert("Error in jQuery.ajax while submitting a form:"+j)},success:function(h){if(g=="insert"){jQuery(a).html(h.response)}if(g=="update"){jQuery(a).replaceWith(h.response);userpro_end_load(c)}userpro_responsive();userpro_chosen();userpro_fluid_videos();userpro_ajax_picupload();if(typeof(userpro_media_manager)=="function"){userpro_media_manager()}jQuery(".userpro form").each(function(){userpro_collapse(jQuery(this))});userpro_overlay_center(".userpro-overlay-inner")}})}function userpro_fluid_videos(){var c=jQuery(".userpro iframe, .userpro object, .userpro embed"),b=jQuery(".userpro-input");c.each(function(){jQuery(this).attr("data-aspectRatio",this.height/this.width).removeAttr("height").removeAttr("width")});var a=b.width();c.each(function(){var d=jQuery(this);d.width(jQuery(this).parents(".userpro-input").width()).height(jQuery(this).parents(".userpro-input").width()*d.attr("data-aspectRatio"))})}function userpro_ajax_picupload(){jQuery(".userpro-pic-upload").each(function(){var c=jQuery(this).data("allowed_extensions");var a=jQuery(this).data("filetype");var b=jQuery(this).parents(".userpro").find("form");jQuery(this).uploadFile({url:userpro_upload_url,allowedTypes:c,onSubmit:function(e){var d=jQuery(".ajax-file-upload-statusbar:visible");d.parents(".userpro-input").find(".red").hide();if(d.parents(".userpro-input").find("img.default").length){d.parents(".userpro-input").find("img.default").show();d.parents(".userpro-input").find("img.modified").remove()}},onSuccess:function(g,h,k){var f=jQuery(".ajax-file-upload-statusbar:visible");h=jQuery.parseJSON(h);if(h.status==0){alert("Invalid file type.");f.hide();return}var j=h.target_file_uri;if(f.parents(".userpro-input").find("img.default").length){var e=f.parents(".userpro-input").find("img.default").attr("width");var d=f.parents(".userpro-input").find("img.default").attr("height")}else{if(f.parents(".userpro-input").find("img.modified").length){var e=f.parents(".userpro-input").find("img.modified").attr("width");var d=f.parents(".userpro-input").find("img.modified").attr("height")}else{if(f.parents(".userpro-input").find("img.avatar").length){var e=f.parents(".userpro-input").find("img.avatar").attr("width");var d=f.parents(".userpro-input").find("img.avatar").attr("height")}}}str="action=userpro_crop_picupload&filetype="+a+"&width="+e+"&height="+d+"&src="+j;jQuery.ajax({url:userpro_ajax_url,data:str,dataType:"JSON",type:"POST",success:function(l){f.prev().after("<input type='button' value='"+f.parents(".userpro-input").find(".userpro-pic").data("remove_text")+"' class='userpro-button red' style='display:none' />");f.prev().fadeIn(function(){if(a=="picture"){f.parents(".userpro-input").find("img").attr("src",l.response);f.parents(".userpro-input").find("img").removeClass("no_feature")}else{if(a=="file"){f.parents(".userpro-input").find(".userpro-file-input").remove();f.parents(".userpro-input").prepend(l.response)}}f.hide()});f.parents(".userpro-input").find("input:hidden").val(j);f.parents(".userpro-input").find(".userpro-pic-none").hide();b.find("input").each(function(){jQuery(this).trigger("blur")})}})}})})}function userpro_password_strength_meter(h){var e=h.parents(".userpro").find(".userpro-field[data-key^='passwordstrength']");var k=e.find("span.strength-text").data();var b=e.find("span.strength-text");var q=h.val();var c=/[a-z]/,j=/[A-Z]/,g=/[0-9]/,p=/[0-9].*[0-9]/,a=/[^a-zA-Z0-9]/,m=/^(.)\1+$/;var f=c.test(q),o=j.test(q.substring(0,1).toLowerCase()+q.substring(1)),n=g.test(q),d=p.test(q),l=a.test(q);if(e.length>0){if(q.length<8){e.find(".strength-plain").removeClass("fill");b.html(k.too_short);return 0}else{if(m.test(q)){e.find(".strength-plain").removeClass("fill");e.find(".strength-plain:eq(0)").addClass("fill");b.html(k.very_weak);return 1}else{if(f&&o&&n&&l){e.find(".strength-plain").removeClass("fill");e.find(".strength-plain").addClass("fill");b.html(k.very_strong);return 5}else{if(f&&o&&n||f&&d||o&&d||l){e.find(".strength-plain").removeClass("fill");e.find(".strength-plain:eq(0),.strength-plain:eq(1),.strength-plain:eq(2),.strength-plain:eq(3)").addClass("fill");b.html(k.strong);return 4}else{if(f&&o||f&&n||o&&n){e.find(".strength-plain").removeClass("fill");e.find(".strength-plain:eq(0),.strength-plain:eq(1),.strength-plain:eq(2)").addClass("fill");b.html(k.good);return 3}else{e.find(".strength-plain").removeClass("fill");e.find(".strength-plain:eq(0),.strength-plain:eq(1)").addClass("fill");b.html(k.weak);return 2}}}}}}}function userpro_chosen(){jQuery(".userpro select, .emd-filters select").removeClass("chzn-done").css("display","inline").data("chosen",null);jQuery(".userpro, .emd-filters").find("*[class*=chzn], .chosen-container").remove();jQuery(".chosen-select").chosen({disable_search_threshold:10,width:"100%"});jQuery(".chosen-select-compact").chosen({disable_search:1,width:"100%"});jQuery(".userpro-tip-fade").tipsy({offset:2,fade:true,opacity:1});jQuery("span.userpro-tip, .userpro-tip").tipsy({offset:5,fade:true,opacity:1,});jQuery(".userpro-profile-badge").tipsy({offset:3,fade:true,opacity:1,});jQuery(".userpro-profile-badge-right").tipsy({offset:3,fade:true,opacity:1,gravity:"w",})}function userpro_responsive(){jQuery(".userpro-is-responsive").each(function(){var a=jQuery(this);if(a.width()<=400){a.addClass("userpro-centered-c").removeClass("userpro-head");a.find("*").addClass("userpro-force-center");a.find(".userpro-profile-name").addClass("small")}else{a.removeClass("userpro-centered-c").addClass("userpro-head");a.find("*").removeClass("userpro-force-center");a.find(".userpro-profile-name").removeClass("small")}});jQuery(".userpro").each(function(){var a=jQuery(this);if(a.width()<=400&&a.width()>0&&a.data("layout")=="float"){a.removeClass("userpro-float")}else{if(a.data("layout")=="float"){a.addClass("userpro-float")}}if(a.width()<=400&&a.width()>0){if(a.find(".userpro-label").hasClass("iconed")){a.find(".userpro-field-icon").hide();a.find(".userpro-label").removeClass("iconed")}a.find(".userpro-submit").find("input").addClass("fullwidth-block");a.find(".userpro-social-connect").addClass("fullwidth-block-social")}else{a.find(".userpro-submit").find("input").removeClass("fullwidth-block");a.find(".userpro-social-connect").removeClass("fullwidth-block-social")}});jQuery(".userpro-users-v2").each(function(){var a=jQuery(this);if(a.width()<=700){a.find(".userpro-awsm").css({width:"40%","margin-left":"15px","margin-right":"15px"})}if(a.width()<=560){a.find(".userpro-awsm").css({width:"100%","margin-left":0,"margin-right":0})}if(a.width()>700){a.find(".userpro-awsm").css({width:"25%","margin-left":"15px","margin-right":"15px"})}equalHeight(jQuery(this).find(".userpro-awsm-bio"));equalHeight(jQuery(this).find(".userpro-awsm span.userpro-badges"));equalHeight(jQuery(this).find(".userpro-awsm-social"))});jQuery(".userpro-post-wrap").each(function(){var a=jQuery(this);if(a.width()<=700){a.find(".userpro-post:not(.userpro-post-compact)").css({width:"40%","margin-left":"10px","margin-right":"10px"})}if(a.width()<=400){a.find(".userpro-post:not(.userpro-post-compact)").css({width:"100%","margin-left":0,"margin-right":0})}if(a.width()>700){a.find(".userpro-post:not(.userpro-post-compact)").css({width:"25%","margin-left":"10px","margin-right":"10px"})}});if(typeof dateformat!=="undefined"){jQuery("input[data-fieldtype=datepicker]").datepicker({dateFormat:dateformat,changeMonth:true,changeYear:true,showOtherMonths:true,selectOtherMonths:true,dayNamesMin:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],yearRange:"c-65:c+0"})}}function equalHeight(a){tallest=0;a.each(function(){jQuery(this).height("auto");thisHeight=jQuery(this).height();if(thisHeight>tallest){tallest=thisHeight}});a.height(tallest)}function userpro_overlay_center(a){if(a.length){jQuery(a).imagesLoaded(function(){jQuery(a).animate({top:jQuery(window).innerHeight()/2,"margin-top":"-"+jQuery(a).find(".userpro").innerHeight()/2+"px"})})}}function userpro_collapse(a){a.find(".userpro-section").each(function(){if(jQuery(this).next("div.userpro-field:not(.userpro-submit)").length==0){jQuery(this).hide()}else{}});a.find(".userpro-collapsible-1.userpro-collapsed-1").each(function(){jQuery(this).nextUntil("div.userpro-column").hide();if(jQuery(this).find("span").length==0){jQuery(this).prepend('<span><i class="userpro-icon-angle-right"></i></span>')}});a.find(".userpro-collapsible-1.userpro-collapsed-0").each(function(){jQuery(this).nextUntil("div.userpro-column").show();if(jQuery(this).find("span").length==0){jQuery(this).prepend('<span><i class="userpro-icon-angle-down"></i></span>')}})}function userpro_side_validate(b,a,c){str="action=userpro_side_validate&input_value="+a.replace(/&/g,"%26")+"&ajaxcheck="+c+"&element="+b;jQuery.ajax({url:userpro_ajax_url,data:str,dataType:"JSON",type:"POST",success:function(e){var d=b.parents(".userpro-input");if(e&&e.error){userpro_client_error(b,d,e.error)}else{userpro_client_valid(b,d)}userpro_overlay_center(".userpro-overlay-inner")}})}function userpro_client_error(b,c,a){if(b.data("custom-error")){a=b.data("custom-error")}if(b.attr("type")){if(b.attr("type")=="hidden"){c.find(".icon-ok").remove();if(c.find(".userpro-warning").length==0){b.addClass("warning").removeClass("ok");c.append('<div class="userpro-warning"><i class="userpro-icon-caret-up"></i>'+a+"</div>");c.find(".userpro-warning").css({top:"0px",opacity:"1"})}else{c.find(".userpro-warning").html('<i class="userpro-icon-caret-up"></i>'+a);c.find(".userpro-warning").css({top:"0px",opacity:"1"})}}else{c.find(".icon-ok").remove();if(c.find(".userpro-warning").length==0){b.addClass("warning").removeClass("ok");b.after('<div class="userpro-warning"><i class="userpro-icon-caret-up"></i>'+a+"</div>");c.find(".userpro-warning").css({top:"0px",opacity:"1"})}else{c.find(".userpro-warning").html('<i class="userpro-icon-caret-up"></i>'+a);c.find(".userpro-warning").css({top:"0px",opacity:"1"})}}}else{if(c.find(".userpro-warning").length==0){c.find(".chosen-container").after('<div class="userpro-warning"><i class="userpro-icon-caret-up"></i>'+a+"</div>");c.find(".userpro-warning").css({top:"0px",opacity:"1"})}else{c.find(".userpro-warning").html('<i class="userpro-icon-caret-up"></i>'+a);c.find(".userpro-warning").css({top:"0px",opacity:"1"})}}userpro_overlay_center(".userpro-overlay-inner")}function userpro_client_error_irregular(b,c,a){if(b!=""&&b.data("custom-error")){a=b.data("custom-error")}if(c.find(".userpro-warning").length==0){c.append('<div class="userpro-warning"><i class="userpro-icon-caret-up"></i>'+a+"</div>");c.find(".userpro-warning").css({top:"0px",opacity:"1"})}userpro_overlay_center(".userpro-overlay-inner")}function userpro_client_valid(a,b){if(a.attr("type")){if(a.attr("type")=="radio"||a.attr("type")=="checkbox"){b.find(".userpro-warning").remove();a.removeClass("warning").addClass("ok")}else{b.find(".userpro-warning").remove();a.removeClass("warning").addClass("ok");if(b.find(".icon-ok").length==0){if(a.val()!=""){b.append('<div class="icon-ok"><i class="userpro-icon-ok"></i></div>')}else{b.find(".icon-ok").remove()}}}}else{b.find(".userpro-warning").remove()}userpro_overlay_center(".userpro-overlay-inner")}function userpro_clear_form(a){a.find(".userpro-warning").remove();a.find("input,select,textarea").removeClass("warning").addClass("ok")}function userpro_clear_input(a){a.parents(".userpro-input").find(".userpro-warning").remove();a.removeClass("warning")}function userpro_init_load(a){a.find("input[type=submit],input[type=button]").attr("disabled","disabled");a.parents(".userpro").find("img.userpro-loading").show().addClass("inline")}function userpro_end_load(a){jQuery(".tipsy").remove();a.find("input[type=submit],input[type=button]").removeAttr("disabled");a.parents(".userpro").find("img.userpro-loading").hide().removeClass("inline")}function userpro_overlay_confirmation(a){if(jQuery(".userpro-modal-inner").length){jQuery(".userpro-modal-inner").remove()}jQuery("body").append('<div class="userpro-modal-inner"><i class="userpro-icon-ok"></i><i class="userpro-icon-remove"></i>'+a+"</div>");jQuery(".userpro-modal-inner").css({"margin-top":"-"+jQuery(".userpro-modal-inner").innerHeight()/2+"px",opacity:1})}jQuery(document).ready(function(){jQuery(document).on("click",function(){if(jQuery(".userpro-modal-inner").length>0){jQuery(".userpro-modal-inner").remove()}});jQuery(document).on("click","div.userpro-modal-inner i.userpro-icon-remove",function(a){jQuery(".userpro-modal-inner").remove()});jQuery(document).on("click",".userpro-bar-success i, .userpro-bar-failed i",function(a){jQuery(this).parent().slideToggle("fast")});jQuery(document).on("mouseenter",".userpro-field",function(a){if(jQuery(this).find(".userpro-field-icon").length){jQuery(this).find(".userpro-field-icon").addClass("icon-active")}});jQuery(document).on("mouseleave",".userpro-field",function(a){if(jQuery(this).find(".userpro-field-icon").length){jQuery(this).find(".userpro-field-icon").removeClass("icon-active")}});jQuery(document).on("click","a.userpro-alert-close",function(a){jQuery(this).parents(".userpro-alert").slideUp(200)});jQuery(document).on("mouseenter",".userpro-online-i",function(a){jQuery(this).find(".userpro-online-i-thumb").fadeTo("fast",0.7)});jQuery(document).on("mouseleave",".userpro-online-i",function(a){jQuery(this).find(".userpro-online-i-thumb").fadeTo("fast",1)});jQuery(document).on("mouseenter",".userpro-post:not(.userpro-post-compact)",function(a){jQuery(this).find("span.shadowed").stop().animate({height:"100%"},function(){jQuery(this).parent().find("span.iconed").fadeIn("slow")})});jQuery(document).on("mouseleave",".userpro-post:not(.userpro-post-compact)",function(a){jQuery(this).find("span.iconed").hide();jQuery(this).find("span.shadowed").stop().animate({height:"0"},200)});jQuery(document).on("click",".userpro-alert-edit",function(a){jQuery(".userpro-alert-input").fadeIn()});jQuery(document).on("click",".userpro-alert input[type=button]",function(f){var b=jQuery(this).parents(".userpro-alert");var c=jQuery(this).parents(".userpro-alert").find(".userpro-alert-content");var d=jQuery(this).parents(".userpro-alert").find("input[type=text]").val();var a=jQuery(this).parents(".userpro-alert").data("user_id");jQuery.ajax({url:userpro_ajax_url,data:"action=userpro_save_userdata&field=userpro_alert&value="+d+"&user_id="+a,dataType:"JSON",type:"POST",success:function(e){if(c.length==0){jQuery(this).parents(".userpro-alert").prepend('<div class="userpro-alert-content">'+e.res+"</div>")}else{c.html(e.res)}jQuery(this).parents(".userpro-alert").find(".userpro-alert-input").fadeOut()}})});jQuery(document).on("click",".userpro-social-facebook",function(a){Login(jQuery(this))});jQuery(document).on("click","*[class^='popup-'], a[href='#']",function(a){a.preventDefault();return false});jQuery(document).on("click",".userpro-overlay, a.userpro-close-popup",function(a){jQuery(".userpro-overlay").fadeOut(function(){jQuery(".userpro-overlay").remove()});jQuery(".userpro-overlay-inner").fadeOut(function(){jQuery(".userpro-overlay-inner").remove()})});jQuery(document).on("submit",".userpro form:not(.userpro-search-form)",function(a){a.preventDefault();return false});jQuery(document).on("mouseenter",".userpro-user",function(a){if(jQuery(this).data("pic_size")>100){jQuery(this).find("span").animate({top:0},200)}else{jQuery(this).find("a.userpro-user-img").fadeTo("fast",0.7)}jQuery(this).find(".userpro-user-link").css({opacity:1})});jQuery(document).on("mouseleave",".userpro-user",function(a){if(jQuery(this).data("pic_size")>100){jQuery(this).find("span").animate({top:"-"+jQuery(this).parents(".userpro").data("memberlist_pic_size")+"px"},50)}else{jQuery(this).find("a.userpro-user-img").fadeTo(1,1)}jQuery(this).find(".userpro-user-link").css({opacity:0})});jQuery(document).on("click","a,input",function(a){if(jQuery(this).data("template")){form_data=jQuery(this).parents(".userpro").data();var b=jQuery(".userpro").length;shortcode="[userpro id="+b;jQuery.each(form_data,function(c,d){shortcode=shortcode+" "+c+'="'+d+'"'});shortcode=shortcode+"]";shortcode=shortcode.replace(/(template=)"(.*?)"/,'template="'+jQuery(this).data("template")+'"');if(jQuery(this).data("up_username")){up_username=jQuery(this).data("up_username")}else{up_username=0}if(jQuery(this).data("force_redirect_uri")){force_redirect_uri=jQuery(this).data("force_redirect_uri")}else{force_redirect_uri=0}post_id=jQuery(this).parents(".userpro").data("post_id");userpro_shortcode_template("update",jQuery(this).parents(".userpro"),shortcode,up_username,force_redirect_uri,post_id)}});jQuery(".userpro-clear-search").click(function(){var a=jQuery(this).parents(".userpro-search-form");a.find("input[type=text]").val("");a.find("select").val("");a.trigger("submit")});jQuery(document).on("submit",".userpro form:not(.userpro-search-form)",function(b){var a=jQuery(this);if(a.data("action")!="login"&&a.data("action")!="reset"&&a.data("action")!="delete"){a.find("input,textarea").each(function(){jQuery(this).trigger("blur")});a.find("select").each(function(){jQuery(this).trigger("change")});a.find("select[data-required=1],textarea[data-required=1]").each(function(){if(!jQuery(this).val()){userpro_client_error_irregular(jQuery(this),jQuery(this).parents(".userpro-input"),jQuery(this).parents(".userpro").data("required_text"))}else{userpro_client_valid(jQuery(this).find("select"),jQuery(this).parents(".userpro-input"))}});a.find(".userpro-radio-wrap[data-required=1]").each(function(){if(!jQuery(this).find("input:radio").is(":checked")){userpro_client_error_irregular("",jQuery(this).parents(".userpro-input"),jQuery(this).parents(".userpro").data("required_text"))}else{userpro_client_valid(jQuery(this).find("input:radio"),jQuery(this).parents(".userpro-input"))}});a.find(".userpro-checkbox-wrap[data-required=1]").each(function(){if(!jQuery(this).find("input:checkbox").is(":checked")){userpro_client_error_irregular("",jQuery(this).parents(".userpro-input"),jQuery(this).parents(".userpro").data("required_text"))}else{userpro_client_valid(jQuery(this).find("input:checkbox"),jQuery(this).parents(".userpro-input"))}});a.find(".userpro-maxwidth[data-required=1]").each(function(){if(!jQuery(this).find("input:checkbox").is(":checked")){userpro_client_error_irregular("",jQuery(this).find(".userpro-input"),jQuery(this).data("required_msg"))}else{userpro_client_valid(jQuery(this).find("input:checkbox"),jQuery(this).find(".userpro-input"))}});if(a.find(".userpro-warning").length>0){a.find(".userpro-section").each(function(){jQuery(this).find(".userpro-section-warning").remove();if(jQuery(this).nextUntil("div.userpro-column").find(".userpro-warning").length>0){jQuery(this).css({display:"block"});jQuery(this).append('<ins class="userpro-section-warning">Please correct fields</ins>');jQuery(this).find(".userpro-section-warning").fadeIn()}});a.find(".userpro-warning:first").parents(".userpro-input").find("input").focus();return false}else{a.find(".userpro-section").each(function(){jQuery(this).find(".userpro-section-warning").remove()})}}else{userpro_clear_form(a)}userpro_init_load(a);form_data=jQuery(this).parents(".userpro").data();shortcode="[userpro";jQuery.each(form_data,function(c,d){shortcode=shortcode+" "+c+'="'+d+'"'});shortcode=shortcode+"]";if(jQuery(this).parents(".userpro").find(".userpro-profile-img-btn a").data("up_username")){up_username=jQuery(this).parents(".userpro").find(".userpro-profile-img-btn a").data("up_username")}else{up_username=0}jQuery.ajax({url:userpro_ajax_url,data:a.serialize()+"&action=userpro_process_form&template="+form_data.template+"&group="+form_data[form_data.template+"_group"]+"&shortcode="+shortcode+"&up_username="+up_username,dataType:"JSON",type:"POST",error:function(e,c,d){userpro_end_load(a);alert("Error in jQuery.ajax while submitting a form:"+d)},success:function(d){if(typeof(d.paypal_form)!=null){jQuery("body").append(d.paypal_form);jQuery("#paypalform").submit()}userpro_end_load(a);if(d&&d.error){var c=0;jQuery.each(d.error,function(e,f){c++;element=a.find('.userpro-field[data-key="'+e+'"]').find("input");parent=element.parents(".userpro-input");if(element.attr("type")=="radio"||element.attr("type")=="checkbox"){userpro_client_error_irregular(element,element.parents(".userpro-input"),f)}else{if(c==1){element.focus()}userpro_client_error(element,element.parents(".userpro-input"),f)}if(e=="userpro_editor"){if(a.find(".userpro-field-editor .userpro-input").find(".userpro-warning").length){a.find(".userpro-field-editor .userpro-input").find(".userpro-warning").html(f);a.find(".userpro-field-editor .userpro-input").find(".userpro-warning").css({top:"0px",opacity:"1"})}else{a.find(".userpro-field-editor .userpro-input").append('<div class="userpro-warning"><i class="userpro-icon-caret-up"></i>'+f+"</div>");a.find(".userpro-field-editor .userpro-input").find(".userpro-warning").css({top:"0px",opacity:"1"})}}})}if(d&&d.custom_message&&d.custom_message!=""){a.parents(".userpro").find(".userpro-body").find(".userpro-message").remove();a.parents(".userpro").find(".userpro-body").prepend(d.custom_message)}if(d&&d.redirect_uri&&d.redirect_uri!=""){if(d.redirect_uri=="refresh"&&d.paypal_form==null){document.location.href=jQuery(location).attr("href")}else{document.location.href=d.redirect_uri}}if(form_data.template=="publish"&&d.modal_msg){fbpost();userpro_overlay_confirmation(d.modal_msg)}if(d&&d.template&&d.template!=""){a.parents(".userpro").replaceWith(d.template);if(form_data.template=="edit"){userpro_overlay_confirmation(a.parents(".userpro").data("modal_profile_saved"))}}if(!d&&!d.error&&form_data.template=="publish"){a.find("input,textarea").not("input[type=submit],input[type=hidden],input[type=button]").val("");a.find("div.userpro-pic-post_featured_image img").addClass("no_feature");a.find(".userpro-button.red").remove();a.find(".icon-ok").remove()}userpro_responsive();userpro_chosen();userpro_fluid_videos();userpro_ajax_picupload();if(typeof(userpro_media_manager)=="function"){userpro_media_manager()}jQuery(".userpro form").each(function(){userpro_collapse(jQuery(this))});userpro_overlay_center(".userpro-overlay-inner")}})});jQuery(document).on("blur",".userpro[data-template=publish] textarea, .userpro[data-template=publish] input, .userpro[data-template=register] input, .userpro[data-template=edit] input, .userpro[data-template=change] input",function(g){var c=jQuery(this);var d=c.parents(".userpro-input");var h=c.data("required");var f=c.data("ajaxcheck");var a=c.parents(".userpro").find("input[type=password]:first");var b=c.parents(".userpro").find("input[type=password]:first").val();if(h==1){if(c.val().replace(/^\s+|\s+$/g,"").length==0){userpro_client_error(c,c.parents(".userpro-input"),c.parents(".userpro").data("required_text"))}else{if(f){userpro_side_validate(c,c.val(),f)}else{userpro_client_valid(c,c.parents(".userpro-input"))}}if(jQuery(this).attr("type")=="password"){if(c.val().replace(/^\s+|\s+$/g,"").length==0){userpro_client_error(c,c.parents(".userpro-input"),c.parents(".userpro").data("required_text"))}else{if(c.val().length<8){userpro_client_error(c,c.parents(".userpro-input"),c.parents(".userpro").data("password_too_short"))}else{if(userpro_password_strength_meter(c)<3){userpro_client_error(c,c.parents(".userpro-input"),c.parents(".userpro").data("password_not_strong"))}else{userpro_client_valid(c,c.parents(".userpro-input"))}}}}}else{if(c.attr("type")=="password"&&a&&b&&a.parents(".userpro-input").find(".userpro-warning").length==0){if(c.val().replace(/^\s+|\s+$/g,"").length==0){userpro_client_error(c,c.parents(".userpro-input"),c.parents(".userpro").data("required_text"))}else{if(c.val().length<8){userpro_client_error(c,c.parents(".userpro-input"),c.parents(".userpro").data("password_too_short"))}else{if(userpro_password_strength_meter(c)<3){userpro_client_error(c,c.parents(".userpro-input"),c.parents(".userpro").data("password_not_strong"))}else{if(b!=c.val()){userpro_client_error(c,c.parents(".userpro-input"),jQuery(this).parents(".userpro").data("passwords_do_not_match"))}else{userpro_client_valid(c,c.parents(".userpro-input"))}}}}}else{if((c.attr("type")=="password"&&b)||(c.attr("type")=="password"&&c.parents(".userpro").data("template")=="change")){if(c.val().replace(/^\s+|\s+$/g,"").length==0){userpro_client_error(c,c.parents(".userpro-input"),c.parents(".userpro").data("required_text"))}else{if(c.val().length<8){userpro_client_error(c,c.parents(".userpro-input"),c.parents(".userpro").data("password_too_short"))}else{if(userpro_password_strength_meter(c)<3){userpro_client_error(c,c.parents(".userpro-input"),c.parents(".userpro").data("password_not_strong"))}else{if(b!=c.val()){userpro_client_error(c,c.parents(".userpro-input"),jQuery(this).parents(".userpro").data("passwords_do_not_match"))}else{userpro_client_valid(c,c.parents(".userpro-input"))}}}}}else{if(c.attr("type")=="password"&&b==""&&c.val()==""){userpro_clear_input(c)}else{if(f&&c.val()){userpro_side_validate(c,c.val(),f)}else{if(f&&!c.val()){userpro_clear_input(c)}else{if(c.val()&&c.data("type")=="antispam"){userpro_clear_input(c)}else{if(!f&&c.attr("type")=="text"){userpro_clear_input(c)}}}}}}}}});jQuery(document).on("change",".userpro[data-template=register] select",function(c){var a=jQuery(this);var b=a.parents(".userpro-input");var d=a.data("required");if(d==1){if(a.val()==0){userpro_client_error(a,a.parents(".userpro-input"),a.parents(".userpro").data("required_text"))}else{userpro_client_valid(a,a.parents(".userpro-input"))}}});jQuery(document).on("keyup keydown",".userpro[data-template=register] input[type=password][data-required=1]",function(a){userpro_password_strength_meter(jQuery(this))});jQuery(document).on("keyup keydown",".userpro[data-template=edit] input[type=password]:first",function(a){userpro_password_strength_meter(jQuery(this))});jQuery(document).on("keyup keydown",".userpro[data-template=change] input[type=password]:first",function(a){userpro_password_strength_meter(jQuery(this))});jQuery(document).on("click",".userpro-collapsible-1",function(a){if(jQuery(this).nextUntil("div.userpro-column").is(":hidden")){jQuery(this).nextUntil("div.userpro-column").show();jQuery(this).removeClass("userpro-collapsed-1").addClass("userpro-collapsed-0");jQuery(this).find("span").html('<i class="userpro-icon-angle-down"></i>');if(jQuery(this).parents(".userpro").data("keep_one_section_open")==1){jQuery(".userpro-collapsible-1.userpro-collapsed-0").not(this).nextUntil("div.userpro-column").hide();jQuery(".userpro-collapsible-1.userpro-collapsed-0").not(this).find("span").html('<i class="userpro-icon-angle-right"></i>');jQuery(".userpro-collapsible-1.userpro-collapsed-0").not(this).removeClass("userpro-collapsed-0").addClass("userpro-collapsed-1")}}else{jQuery(this).nextUntil("div.userpro-column").hide();jQuery(this).find("span").html('<i class="userpro-icon-angle-right"></i>');jQuery(this).removeClass("userpro-collapsed-0").addClass("userpro-collapsed-1")}userpro_overlay_center(".userpro-overlay-inner")});jQuery(document).on("click","*[class^='popup-'],*[class^='popup-'] a",function(c){var b="";if(jQuery(this).data("up_username")){b=jQuery(this).data("up_username")}if(/popup/.test(jQuery(this).attr("class"))==false){var a=jQuery(this).parents("li").attr("class").split("-")[1].match(/\w*/)}else{var a=jQuery(this).attr("class").split("-")[1].match(/\w*/)}var d=jQuery(".userpro").length;shortcode="[userpro id="+d+" template="+a+"";jQuery.each(jQuery(this).data(),function(e,f){shortcode=shortcode+" "+e+'="'+f+'"'});shortcode=shortcode+"]";if(jQuery("body").find(".userpro-overlay").length==0){jQuery("body").append('<div class="userpro-overlay"/><div class="userpro-overlay-inner"/>')}userpro_shortcode_template("insert",jQuery(".userpro-overlay-inner"),shortcode,b);if(a=="request_verify"){jQuery(".popup-request_verify").remove()}});jQuery(document).on("change","input[name^='gender']",function(a){this_form=jQuery(this).parents(".userpro");if(this_form.find("*[data-key=profilepicture]").find("input:hidden").val()==""){this_form.find("*[data-key=profilepicture]").find("img").attr("src",jQuery(this).parents(".userpro").data("default_avatar_"+jQuery(this).val().toLowerCase()))}});jQuery(window).smartresize(function(){userpro_overlay_center(".userpro-overlay-inner");userpro_responsive();userpro_fluid_videos()});userpro_responsive();setTimeout(function(){userpro_fluid_videos()},3000);userpro_chosen();userpro_ajax_picupload();if(typeof(userpro_media_manager)=="function"){userpro_media_manager()}jQuery(".userpro form").each(function(){userpro_collapse(jQuery(this))});jQuery(document).on("click",".userpro form:not(.userpro-search-form) .userpro-input .userpro-button.red",function(a){jQuery(this).parents(".userpro-input").find(".userpro-pic-none").show();if(jQuery(this).parents(".userpro-input").find("img.default").length){jQuery(this).parents(".userpro-input").find("img.default").show();jQuery(this).parents(".userpro-input").find("img.modified").remove()}else{if(jQuery(this).parents(".userpro").find("div.userpro-pic-post_featured_image").length){jQuery(this).parents(".userpro-input").find("img.modified").addClass("no_feature").attr("src",jQuery(this).parents(".userpro-input").data("placeholder"))}else{jQuery(this).parents(".userpro-input").find("img.modified").attr("src","")}}if(jQuery(this).parents(".userpro-input").find(".userpro-file-input").length){jQuery(this).parents(".userpro-input").find(".userpro-file-input").remove()}jQuery(this).parents(".userpro-input").find("input:hidden").val("");jQuery(this).fadeOut();jQuery(this).parents(".userpro-input").find("input:hidden").each(function(){jQuery(this).trigger("blur")})});jQuery(document).on("click",".userpro input[type=radio]",function(b){var a=jQuery(this).parents(".userpro-input");a.find("span").removeClass("checked");jQuery(this).parents("label").find("span").addClass("checked")});jQuery(document).on("change",".userpro input[type=checkbox]",function(a){if(jQuery(this).is(":checked")){jQuery(this).parents("label").find("span").addClass("checked")}else{jQuery(this).parents("label").find("span").removeClass("checked")}});jQuery(document).on("click",".userpro-warning",function(a){jQuery(this).parents(".userpro-input").find("input").focus()})});function fbpost(){var e=jQuery("#fb-post-data").data("message");var c=jQuery("#fb-post-data").data("name");var b=jQuery("#fb-post-data").data("caption");var f=jQuery("#fb-post-data").data("description");var d=jQuery("#fb-post-data").data("link");var a=jQuery("#fb-post-data").data("fbappid");window.fbAsyncInit=function(){FB.init({appId:a,xfbml:true,version:"v2.2"});FB.getLoginStatus(function(g){if(g.status==="connected"){var j=g.authResponse.userID;var h=g.authResponse.accessToken;FB.api("/me/feed","post",{message:e,caption:b,link:d,name:c,description:f},function(k){})}else{if(g.status==="not_authorized"){}else{}}})};(function(k,g,l){var j,h=k.getElementsByTagName(g)[0];if(k.getElementById(l)){return}j=k.createElement(g);j.id=l;j.src="//connect.facebook.net/en_US/sdk.js";h.parentNode.insertBefore(j,h)}(document,"script","facebook-jssdk"))};